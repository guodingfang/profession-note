<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="renderer" content="webkit"/>
  <meta name="description" content="DOM事件类"/>
  <meta name="keywords" content="DOM事件类,DOM事件类的级别,DOM事件模型,DOM事件流,DOM事件捕获的具体流程,Event对象的常见应用,自定义事件"/>
  <title>DOM事件类</title>
</head>
<body>
  <style>
    #ev {
      width: 300px;
      height: 100px;
      background-color: rosybrown;
      color: white;
      text-align: center;
      line-height: 100px;
    }
  </style>
  <div id="ev">
    目标元素
  </div>

  <script>



    // 捕获阶段触发事件流
    const ev = document.getElementById('ev');
    // 第三个参数，默认为false，如果设置为true，表明在捕获阶段触发
    window.addEventListener('click', () => {
      console.log('window capture');
    }, true);
    document.addEventListener('click', () => {
      console.log('document capture');
    }, true);
    document.documentElement.addEventListener('click', () => {
      console.log('html capture');
    }, true);
    document.body.addEventListener('click', () => {
      console.log('body capture');
    }, true);
    ev.addEventListener('click', () => {
      console.log('ev captrue');
    }, true);

    const eve = new Event('test');
    ev.addEventListener('test', () => {
      console.log('test dispatch');
    }, true);
    setTimeout(() => {
      ev.dispatchEvent(eve);
    }, 1000)
  </script>
</body>
</html>
